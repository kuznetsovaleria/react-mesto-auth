{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","images/close-icon.svg","components/PopupWithForm.js","components/ImagePopup.js","api/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","images/register-success.svg","images/register-fail.svg","components/InfoTooltip.js","components/ProtectedRoute.js","auth/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","loggedIn","email","onSignOut","className","src","logoHeader","alt","path","to","onClick","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","onCardClick","onCardDelete","type","onCardLike","length","card_id","Main","avatar","onEditAvatar","aria-label","onEditProfile","about","onAddPlace","cards","map","Footer","PopupWithForm","isOpen","closePopupPath","onClose","onSubmit","noValidate","title","children","ImagePopup","api","baseUrl","token","this","_baseUrl","_token","res","ok","json","Promise","reject","status","fetch","headers","authorization","then","_handleOriginalResponse","data","method","body","JSON","stringify","EditProfilePopup","useState","setName","description","setDescription","useEffect","evt","preventDefault","onUpdateUser","value","onChange","target","id","minLength","maxLength","placeholder","required","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","placeName","setPlaceName","placeLink","setPlaceLink","Login","onLogin","initialData","password","setData","message","setMessage","history","useHistory","handleInputChange","resetForm","push","catch","err","autoComplete","Register","onRegister","InfoTooltip","onSuccess","registerSuccess","registerFail","ProtectedRoute","Component","component","BASE_URL","responseCheck","App","setLoggedIn","setEmail","setRegisterSuccess","isInfoTooltipPopupOpen","setIsInfoToolPopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","tokenCheck","useCallback","localStorage","getItem","auth","closeAllPopups","all","getUserData","getInitialCards","userData","console","log","Provider","removeItem","exact","removeLike","putLike","newCard","newCards","c","deleteCard","filter","statusCode","setItem","editUserInfo","userInfo","cardData","addNewCard","userAvatar","changeUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2a16dc45.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import logoHeader from \"../images/logo.svg\";\nimport { Switch, Route, Link } from 'react-router-dom';\n\nfunction Header({loggedIn, email, onSignOut}) {\n\n  return (\n    <header className=\"header\">\n      <img\n        src={logoHeader}\n        alt=\"логотип проекта Место\"\n        className=\"header__logo\"\n      />\n      <nav>\n        <ul className=\"header__nav\">\n          <Switch>\n            <Route path=\"/sign-up\">\n            <li className=\"header__item\"><Link to=\"/sign-in\"\n            className=\"header__link\">Войти</Link></li>\n            </Route>\n            <Route path=\"/sign-in\">\n              <li className=\"header__item\"><Link to=\"/sign-up\" className=\"header__link\">Регистрация</Link></li>\n            </Route>\n            {loggedIn ? <>\n            <li className=\"header__item\">{email}</li>\n            <li onClick={onSignOut} className=\"header__link header__link_out\">Выйти</li>\n            </> : ''}\n          </Switch>\n        </ul>\n      </nav>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react'\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = props.card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = `card__delete ${\n    isOwn ? \"card__delete\" : \"card__delete_hidden\"\n  }`;\n\n  const isLiked = props.card.likes.some((i) => i._id === currentUser._id);\n  const cardLikeButtonClassName = `card__like ${\n    isLiked ? \"card__like_active\" : \"card__like\"\n  }`;\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card);\n  }\n\n  return (\n    <article className=\"card\" key={props.card_id}>\n      <img\n        src={props.card.link}\n        alt={props.card.name}\n        className=\"card__photo\"\n        onClick={handleClick}\n      />\n      <button\n        className={cardDeleteButtonClassName}\n        onClick={handleDeleteClick}\n        type=\"button\"\n      ></button>\n      <div className=\"card__group\">\n        <h2 className=\"card__place\">{props.card.name}</h2>\n        <div className=\"card__likes\">\n          <button\n            className={cardLikeButtonClassName}\n            onClick={handleLikeClick}\n            type=\"button\"\n          ></button>\n          <p className=\"card__likes-counter\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </article>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport Card from \"../components/Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile page__profile\">\n        <img\n          src={currentUser.avatar}\n          alt={currentUser.name}\n          className=\"profile__avatar\"\n          onClick={props.onEditAvatar}\n        />\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <button\n            className=\"profile__edit-button\"\n            aria-label=\"Открыть\"\n            onClick={props.onEditProfile}\n          ></button>\n          <p className=\"profile__profession\">{currentUser.about}</p>\n        </div>\n        <button\n          className=\"profile__add-button\"\n          type=\"button\"\n          onClick={props.onAddPlace}\n        ></button>\n      </section>\n\n      <section className=\"cards page__cards\">\n        {props.cards.map((card) => {\n          return (\n            <Card\n              key={card._id}\n              card={card}\n              onCardClick={props.onCardClick}\n              onCardLike={props.onCardLike}\n              onCardDelete={props.onCardDelete}\n            />\n          );\n        })}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","export default __webpack_public_path__ + \"static/media/close-icon.118074ba.svg\";","import closePopupPath from \"../images/close-icon.svg\";\n\nfunction PopupWithForm(props) {\n  return (\n    <div>\n      <section\n        className={`popup popup_${props.name} ${\n          props.isOpen ? \"popup_opened\" : \"\"\n        }`}\n      >\n        <div className=\"popup__container\">\n          <button className=\"popup__close\" aria-label=\"Закрыть\">\n            <img\n              src={closePopupPath}\n              alt=\"Закрыть\"\n              className=\"popup__icon\"\n              onClick={props.onClose}\n            />\n          </button>\n          <form\n            className=\"popup__form\"\n            name={`${props.name}`}\n            onSubmit={props.onSubmit}\n            noValidate\n          >\n            <h3 className=\"popup__title\">{`${props.title}`}</h3>\n            {props.children}\n            <button type=\"submit\" className=\"popup__submit\">\n              Сохранить\n            </button>\n          </form>\n        </div>\n      </section>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import closePopupPath from \"../images/close-icon.svg\";\n\nfunction ImagePopup(props) {\n  return (\n    <section\n      className={`popup popup-photo ${props.isOpen ? \"popup_opened\" : \"\"}`}\n    >\n      <div className=\"popup-photo__container\">\n        <button\n          className=\"popup-photo__close popup__close\"\n          aria-label=\"Закрыть\"\n        >\n          <img\n            src={closePopupPath}\n            alt=\"Закрыть\"\n            className=\"popup__icon\"\n            onClick={props.onClose}\n          />\n        </button>\n        <img\n          src={props.card ? props.card.link : \"#\"}\n          alt={props.card.name}\n          className=\"popup-photo__img\"\n        />\n        <p className=\"popup-photo__caption\">{props.card.name}</p>\n      </div>\n    </section>\n  );\n}\n\nexport default ImagePopup;\n","export class Api {\n  constructor({ baseUrl, token }) {\n    this._baseUrl = baseUrl;\n    this._token = token;\n  }\n\n  _handleOriginalResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка ${res.status}`);\n  }\n\n  getUserData() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: {\n        authorization: this._token,\n      },\n    }).then(this._handleOriginalResponse);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: {\n        authorization: this._token,\n      },\n    }).then(this._handleOriginalResponse);\n  }\n\n  editUserInfo(data) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about,\n      }),\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка ${res.status}`);\n    });\n  }\n\n  addNewCard(data) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link,\n      }),\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка ${res.status}`);\n    });\n  }\n\n  putLike(_id) {\n    return fetch(`${this._baseUrl}/cards/likes/${_id}`, {\n      method: \"PUT\",\n      headers: {\n        authorization: this._token,\n      },\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка ${res.status}`);\n    });\n  }\n\n  removeLike(_id) {\n    return fetch(`${this._baseUrl}/cards/likes/${_id}`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: this._token,\n      },\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка ${res.status}`);\n    });\n  }\n\n  deleteCard(_id) {\n    return fetch(`${this._baseUrl}/cards/${_id}`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: this._token,\n      },\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка ${res.status}`);\n    });\n  }\n\n  changeUserAvatar(data) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        avatar: data.link,\n      }),\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка ${res.status}`);\n    });\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-19\",\n  token: \"05a9c3f8-8fc7-415a-8994-abcd561520ba\",\n});\n\nexport default api;\n","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditProfilePopup(props) {\n  const [name, setName] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleDescriptionChange(evt) {\n    setDescription(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Редактировать профиль\"\n      name=\"edit\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        value={name || \"\"}\n        onChange={handleNameChange}\n        id=\"name-input\"\n        className=\"popup__input popup__input_name\"\n        type=\"text\"\n        name=\"edit-name\"\n        minLength=\"2\"\n        maxLength=\"40\"\n        placeholder=\"Имя\"\n        required\n      />\n      <span id=\"name-input-error\" className=\"error\" />\n      <input\n        value={description || \"\"}\n        onChange={handleDescriptionChange}\n        id=\"profession-input\"\n        type=\"text\"\n        name=\"edit-profession\"\n        className=\"popup__input popup__input_profession\"\n        minLength=\"2\"\n        maxLength=\"200\"\n        placeholder=\"Занятие\"\n        required\n      />\n      <span id=\"profession-input-error\" className=\"error\" />\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup(props) {\n  const avatarRef = React.useRef();\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Обновить аватар\"\n      name=\"change-avatar\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        ref={avatarRef}\n        id=\"link-avatar\"\n        type=\"url\"\n        name=\"avatar-link\"\n        placeholder=\"Ссылка на аватар\"\n        className=\"popup__input popup__input_link\"\n        required\n      />\n      <span id=\"link-avatar-error\" className=\"error\" />\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm'\n\nfunction AddPlacePopup(props) {\n    const [placeName, setPlaceName] = React.useState('');\n    const [placeLink, setPlaceLink] = React.useState('')\n\n    function handlePlaceNameAdd(evt) {\n        setPlaceName(evt.target.value);\n    }\n\n    function handlePlaceLinkAdd(evt) {\n        setPlaceLink(evt.target.value);\n    }\n\n    function handleResetInputs() {\n      setPlaceName('');\n      setPlaceLink('');\n    }\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n        props.onAddPlace({\n            name: placeName,\n            link: placeLink,\n        })\n        handleResetInputs()\n    }\n\n    return (\n        <PopupWithForm\n        title=\"Новое место\"\n        name=\"add\"\n        isOpen={props.isOpen}\n        onClose={props.onClose}\n        onSubmit={handleSubmit}\n      >\n        <input\n          value={placeName || ''}\n          onChange={handlePlaceNameAdd}\n          id=\"place-input\"\n          minLength=\"2\"\n          maxLength=\"30\"\n          type=\"text\"\n          name=\"place-name\"\n          placeholder=\"Название\"\n          className=\"popup__input popup__input_place\"\n          required\n        />\n        <span id=\"place-input-error\" className=\"error\" />\n        <input\n          value={placeLink || ''}\n          onChange={handlePlaceLinkAdd}\n          id=\"link-input\"\n          type=\"url\"\n          name=\"img-link\"\n          placeholder=\"Ссылка на картинку\"\n          className=\"popup__input popup__input_link\"\n          required\n        />\n        <span id=\"link-input-error\" className=\"error\" />\n      </PopupWithForm>\n    )\n}\n\nexport default AddPlacePopup;","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport \"./styles/Welcome.css\";\n\nfunction Login({ onLogin }) {\n  const initialData = {\n    email: \"\",\n    password: \"\",\n  };\n  const [data, setData] = useState(initialData);\n  const [message, setMessage] = useState(\"\");\n  const history = useHistory();\n\n  // ОБРАБОТКА ИЗМЕНЕНИЙ В ИНПУТАХ\n  function handleInputChange(evt) {\n    const { name, value } = evt.target;\n    setData((data) => ({\n      ...data,\n      [name]: value,\n    }));\n  }\n\n  // ОЧИТСКА ФОРМЫ\n  function resetForm() {\n    setData(initialData);\n    setMessage(\"\");\n  }\n\n  // ОБРАБОТКА САБМИТА\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    if (!data.email || !data.password) {\n      return;\n    }\n    onLogin(data)\n      .then(resetForm)\n      .then(() => history.push(\"/\"))\n      .catch((err) => setMessage(err.message || \"Что-то пошло не так\"));\n  }\n\n  return (\n    <div className=\"welcome\">\n      <form\n        onSubmit={handleSubmit}\n        className=\"welcome__form\"\n        autoComplete=\"off\"\n        noValidate\n      >\n        <h3 className=\"welcome__title\">Вход</h3>\n        <p className=\"welcome__error\">{message}</p>\n        <input\n          id=\"login-email\"\n          name=\"email\"\n          type=\"email\"\n          className=\"welcome__input\"\n          placeholder=\"Email\"\n          value={data.email}\n          onChange={handleInputChange}\n          required\n        ></input>\n        <input\n          id=\"login-password\"\n          name=\"password\"\n          type=\"password\"\n          className=\"welcome__input\"\n          placeholder=\"Пароль\"\n          value={data.password}\n          onChange={handleInputChange}\n          required\n        ></input>\n        <button className=\"welcome__button\" type=\"submit\">\n          Войти\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default Login;\n","import React, { useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport \"./styles/Welcome.css\";\n\nfunction Register({ onRegister }) {\n  const initialData = {\n    email: \"\",\n    password: \"\",\n  };\n\n  const [data, setData] = useState(initialData);\n  const [message, setMessage] = useState(\"\");\n  const history = useHistory();\n\n  // ВНЕСТИ ИЗМЕНЕНИЯ В ИНПУТЫ\n  function handleInputChange(evt) {\n    const { name, value } = evt.target;\n    setData((data) => ({\n      ...data,\n      [name]: value,\n    }));\n  }\n\n  // ОБРАБОТКА САБМИТА\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    if (!data.email || !data.password) {\n      return;\n    }\n    onRegister(data)\n      .then(() => history.push(\"/sign-in\"))\n      .catch((err) => setMessage(err.message || \"Что-то пошло не так\"));\n  }\n\n  return (\n    <div className=\"welcome welcome_register\">\n      <form\n        onSubmit={handleSubmit}\n        className=\"welcome__form\"\n        autoComplete=\"off\"\n        noValidate\n      >\n        <h3 className=\"welcome__title\">Регистрация</h3>\n        <p className=\"welcome__error\">{message}</p>\n        <input\n          id=\"register-email\"\n          name=\"email\"\n          type=\"email\"\n          className=\"welcome__input\"\n          placeholder=\"Email\"\n          value={data.email}\n          onChange={handleInputChange}\n          required\n        ></input>\n        <input\n          id=\"register-password\"\n          name=\"password\"\n          type=\"password\"\n          className=\"welcome__input \"\n          placeholder=\"Пароль\"\n          value={data.password}\n          onChange={handleInputChange}\n          required\n        ></input>\n        <button className=\"welcome__button\" type=\"submit\">\n          Зарегистрироваться\n        </button>\n      </form>\n      <div className=\"welcome__signin\">\n        <p>Уже зарегистрированы?</p>\n        <Link to=\"/sign-in\" className=\"welcome__login-link\">\n          Войти\n        </Link>\n      </div>\n    </div>\n  );\n}\n\nexport default Register;\n","export default __webpack_public_path__ + \"static/media/register-success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/register-fail.7c6a020b.svg\";","import closePopupPath from \"../images/close-icon.svg\";\nimport registerSuccess from \"../images/register-success.svg\";\nimport registerFail from \"../images/register-fail.svg\";\n\nfunction InfoTooltip(props) {\n  return (\n    <section\n      className={`popup popup_info-tooltip ${\n        props.isOpen ? \"popup_opened\" : \"\"\n      }`}\n    >\n      <div className=\"popup__container\">\n        <button className=\"popup__close\" aria-label=\"Закрыть\">\n          <img\n            src={closePopupPath}\n            alt=\"Закрыть\"\n            className=\"popup__icon\"\n            onClick={props.onClose}\n          />\n        </button>\n        <div className=\"popup__infotooltip\">\n          <img\n            className=\"popup__infotooltip-img\"\n            src={props.onSuccess ? registerSuccess : registerFail}\n            alt=\"Ответ регистрации\"\n          />\n          <p className=\"popup__infotooltip-message\">\n            {props.onSuccess\n              ? \"Вы успешно зарегистрировались!\"\n              : \"Что-то пошло не так! Попробуйте еще раз.\"}\n          </p>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default InfoTooltip;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {() =>\n        props.loggedIn === true ? (\n          <Component {...props} />\n        ) : (\n          <Redirect to=\"./sign-in\" />\n        )\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","export const BASE_URL = \"https://auth.nomoreparties.co\";\n\nconst responseCheck = (res) =>\n  res.ok ? res.json() : Promise.reject(`Ошибка ${res.status}`);\n\nexport const register = (email, password) => {\n    return fetch(`${BASE_URL}/signup`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ email, password })\n    })\n    .then(responseCheck)\n};\n\nexport const login = (email, password) => {\n    return fetch(`${BASE_URL}/signin`, {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ email, password })\n    })\n    .then(responseCheck)\n};\n\nexport const checkToken = (token) => {\n    return fetch(`${BASE_URL}/users/me`, {\n        method: 'GET',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`,\n        }})\n        .then(responseCheck)\n}","import Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport ImagePopup from \"./ImagePopup\";\nimport React from \"react\";\nimport { Redirect, Route, Switch, useHistory } from \"react-router-dom\";\nimport api from \"../api/api\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport * as auth from \"../auth/auth\";\n\nfunction App() {\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [email, setEmail] = React.useState(\"\");\n  const history = useHistory();\n  const [registerSuccess, setRegisterSuccess] = React.useState(false);\n  const [isInfoTooltipPopupOpen, setIsInfoToolPopupOpen] = React.useState(\n    false\n  );\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(\n    false\n  );\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(\n    false\n  );\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n  // ОБРАБОТКА РЕГИСТРАЦИИ\n  function handleRegister({ email, password }) {\n    return auth\n      .register(email, password)\n      .then((res) => {\n        if (!res || res.statusCode === 400) {\n          console.log(\"Что-то пошло не так\");\n        } else {\n          setRegisterSuccess(true);\n          setIsInfoToolPopupOpen(true);\n          history.push(\"/sign-in\");\n          return res;\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setIsInfoToolPopupOpen(true);\n      });\n  }\n\n  // ОБРАБОТКА ЛОГИНА\n  function handleLogin({ email, password }) {\n    return auth\n      .login(email, password)\n      .then((res) => {\n        if (!res || res.statusCode === 400) {\n          console.log(\"Что-то пошло не так\");\n        }\n        if (res.token) {\n          setLoggedIn(true);\n          setEmail(email);\n          localStorage.setItem(\"token\", res.token);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  // ПРОВЕРКА ТОКЕНА\n  const tokenCheck = React.useCallback(() => {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      auth\n        .checkToken(token)\n        .then((res) => {\n          if (res) {\n            setLoggedIn(true);\n            setEmail(res.data.email);\n          }\n          history.push(\"/\");\n        })\n        .catch(() => history.push(\"/sign-in\"));\n    }\n  }, [history]);\n\n  React.useEffect(() => {\n    tokenCheck();\n  }, [tokenCheck]);\n\n  // ВЫХОД\n  function handleSignOut() {\n    localStorage.removeItem(\"token\");\n    setLoggedIn(false);\n    history.push(\"/sign-in\");\n  }\n\n  // ЗАГРУЗКА КАРТОЧЕК И ИНФОРМАЦИИ О ПОЛЬЗОВАТЕЛЕ С СЕРВЕРА\n  React.useEffect(() => {\n    Promise.all([api.getUserData(), api.getInitialCards()])\n      .then(([userData, cards]) => {\n        setCurrentUser(userData);\n        setCards(cards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  //ОТКРЫТЬ РЕДАКТИРОВАНИЕ АВАТАРА\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  // РЕДАКТИРОВАНИЕ АВАТАРА\n  function handleUpdateAvatar(userAvatar) {\n    api\n      .changeUserAvatar({ link: userAvatar.avatar })\n      .then((userInfo) => {\n        setCurrentUser(userInfo);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  // ОТКРЫТЬ РЕДАКТИРОВАНИЕ ПРОФИЛЯ\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  // РЕДАКТИРОВАНИЕ ПРОФИЛЯ\n  function handleUpdateUser(userData) {\n    api\n      .editUserInfo(userData)\n      .then((userInfo) => {\n        setCurrentUser(userInfo);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  // ОТКРЫТЬ ДОБАВЛЕНИЕ КАРТОЧКИ С МЕСТОМ\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  // ДОБАВИТЬ КАРТОЧКУ\n  function handleAddPlaceSubmit(cardData) {\n    api\n      .addNewCard(cardData)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  // ЛАЙК/ДИЗЛАЙК\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    const likeRequest = !isLiked\n      ? api.putLike(card._id)\n      : api.removeLike(card._id);\n\n    likeRequest\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  // УДАЛЕНИЕ КАРТОЧКИ\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== card._id);\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  // ОТКРЫТЬ КАРТИНКУ\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setIsImagePopupOpen(true);\n  }\n\n  // ЗАКРЫТЬ ПОПАПЫ\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard({});\n    setIsImagePopupOpen(false);\n    setIsInfoToolPopupOpen(false);\n  }\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header loggedIn={loggedIn} email={email} onSignOut={handleSignOut} />\n        <Switch>\n          <ProtectedRoute\n            exact\n            path=\"/\"\n            component={Main}\n            loggedIn={loggedIn}\n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n          />\n\n          <Route path=\"/sign-up\">\n            <Register onRegister={handleRegister} />\n          </Route>\n\n          <Route path=\"/sign-in\">\n            <Login onLogin={handleLogin} tokenCheck={tokenCheck} />\n          </Route>\n\n          <Route>\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n          </Route>\n        </Switch>\n\n        <Footer />\n\n        <InfoTooltip\n          isOpen={isInfoTooltipPopupOpen}\n          onClose={closeAllPopups}\n          onSuccess={registerSuccess}\n        />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        <PopupWithForm\n          title=\"Вы уверены?\"\n          name=\"delete-place\"\n          isOpen={false}\n          onClose={closeAllPopups}\n        ></PopupWithForm>\n\n        <ImagePopup\n          card={selectedCard}\n          isOpen={isImagePopupOpen}\n          onClose={closeAllPopups}\n        />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom'\nimport './index.css'\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}