{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _defineProperty from\"/Users/kuznetsovaleria/mesto-react-auth/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/kuznetsovaleria/mesto-react-auth/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/kuznetsovaleria/mesto-react-auth/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Link,useHistory}from\"react-router-dom\";import\"./styles/Welcome.css\";function Register(_ref){var onRegister=_ref.onRegister;var initialData={email:\"\",password:\"\"};var _useState=useState(initialData),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),message=_useState4[0],setMessage=_useState4[1];var history=useHistory();// ВНЕСТИ ИЗМЕНЕНИЯ В ИНПУТЫ\nfunction handleInputChange(evt){var _evt$target=evt.target,name=_evt$target.name,value=_evt$target.value;setData(function(data){return _objectSpread(_objectSpread({},data),{},_defineProperty({},name,value));});}// ОБРАБОТКА САБМИТА\nfunction handleSubmit(evt){evt.preventDefault();if(!data.email||!data.password){return;}onRegister(data).then(function(){return history.push(\"/sign-in\");}).catch(function(err){return setMessage(err.message||\"Что-то пошло не так\");});}return/*#__PURE__*/_jsxs(\"div\",{className:\"welcome welcome_register\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"welcome__form\",autoComplete:\"off\",noValidate:true,children:[/*#__PURE__*/_jsx(\"h3\",{className:\"welcome__title\",children:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"p\",{className:\"welcome__error\",children:message}),/*#__PURE__*/_jsx(\"input\",{id:\"register-email\",name:\"email\",type:\"email\",className:\"welcome__input\",placeholder:\"Email\",value:data.email,onChange:handleInputChange,required:true}),/*#__PURE__*/_jsx(\"input\",{id:\"register-password\",name:\"password\",type:\"password\",className:\"welcome__input \",placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",value:data.password,onChange:handleInputChange,required:true}),/*#__PURE__*/_jsx(\"button\",{className:\"welcome__button\",type:\"submit\",children:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"welcome__signin\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u0423\\u0436\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u044B?\"}),/*#__PURE__*/_jsx(Link,{to:\"/sign-in\",className:\"welcome__login-link\",children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})]})]});}export default Register;","map":{"version":3,"sources":["/Users/kuznetsovaleria/mesto-react-auth/react-mesto-auth/src/components/Register.js"],"names":["React","useState","Link","useHistory","Register","onRegister","initialData","email","password","data","setData","message","setMessage","history","handleInputChange","evt","target","name","value","handleSubmit","preventDefault","then","push","catch","err"],"mappings":"smBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CACA,MAAO,sBAAP,CAEA,QAASC,CAAAA,QAAT,MAAkC,IAAdC,CAAAA,UAAc,MAAdA,UAAc,CAChC,GAAMC,CAAAA,WAAW,CAAG,CAClBC,KAAK,CAAE,EADW,CAElBC,QAAQ,CAAE,EAFQ,CAApB,CADgC,cAMRP,QAAQ,CAACK,WAAD,CANA,wCAMzBG,IANyB,eAMnBC,OANmB,8BAOFT,QAAQ,CAAC,EAAD,CAPN,yCAOzBU,OAPyB,eAOhBC,UAPgB,eAQhC,GAAMC,CAAAA,OAAO,CAAGV,UAAU,EAA1B,CAEA;AACA,QAASW,CAAAA,iBAAT,CAA2BC,GAA3B,CAAgC,iBACNA,GAAG,CAACC,MADE,CACtBC,IADsB,aACtBA,IADsB,CAChBC,KADgB,aAChBA,KADgB,CAE9BR,OAAO,CAAC,SAACD,IAAD,wCACHA,IADG,wBAELQ,IAFK,CAEEC,KAFF,IAAD,CAAP,CAID,CAED;AACA,QAASC,CAAAA,YAAT,CAAsBJ,GAAtB,CAA2B,CACzBA,GAAG,CAACK,cAAJ,GACA,GAAI,CAACX,IAAI,CAACF,KAAN,EAAe,CAACE,IAAI,CAACD,QAAzB,CAAmC,CACjC,OACD,CACDH,UAAU,CAACI,IAAD,CAAV,CACGY,IADH,CACQ,iBAAMR,CAAAA,OAAO,CAACS,IAAR,CAAa,UAAb,CAAN,EADR,EAEGC,KAFH,CAES,SAACC,GAAD,QAASZ,CAAAA,UAAU,CAACY,GAAG,CAACb,OAAJ,EAAe,qBAAhB,CAAnB,EAFT,EAGD,CAED,mBACE,aAAK,SAAS,CAAC,0BAAf,wBACE,cACE,QAAQ,CAAEQ,YADZ,CAEE,SAAS,CAAC,eAFZ,CAGE,YAAY,CAAC,KAHf,CAIE,UAAU,KAJZ,wBAME,WAAI,SAAS,CAAC,gBAAd,gFANF,cAOE,UAAG,SAAS,CAAC,gBAAb,UAA+BR,OAA/B,EAPF,cAQE,cACE,EAAE,CAAC,gBADL,CAEE,IAAI,CAAC,OAFP,CAGE,IAAI,CAAC,OAHP,CAIE,SAAS,CAAC,gBAJZ,CAKE,WAAW,CAAC,OALd,CAME,KAAK,CAAEF,IAAI,CAACF,KANd,CAOE,QAAQ,CAAEO,iBAPZ,CAQE,QAAQ,KARV,EARF,cAkBE,cACE,EAAE,CAAC,mBADL,CAEE,IAAI,CAAC,UAFP,CAGE,IAAI,CAAC,UAHP,CAIE,SAAS,CAAC,iBAJZ,CAKE,WAAW,CAAC,sCALd,CAME,KAAK,CAAEL,IAAI,CAACD,QANd,CAOE,QAAQ,CAAEM,iBAPZ,CAQE,QAAQ,KARV,EAlBF,cA4BE,eAAQ,SAAS,CAAC,iBAAlB,CAAoC,IAAI,CAAC,QAAzC,0HA5BF,GADF,cAiCE,aAAK,SAAS,CAAC,iBAAf,wBACE,2IADF,cAEE,KAAC,IAAD,EAAM,EAAE,CAAC,UAAT,CAAoB,SAAS,CAAC,qBAA9B,4CAFF,GAjCF,GADF,CA0CD,CAED,cAAeV,CAAAA,QAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport \"./styles/Welcome.css\";\n\nfunction Register({ onRegister }) {\n  const initialData = {\n    email: \"\",\n    password: \"\",\n  };\n\n  const [data, setData] = useState(initialData);\n  const [message, setMessage] = useState(\"\");\n  const history = useHistory();\n\n  // ВНЕСТИ ИЗМЕНЕНИЯ В ИНПУТЫ\n  function handleInputChange(evt) {\n    const { name, value } = evt.target;\n    setData((data) => ({\n      ...data,\n      [name]: value,\n    }));\n  }\n\n  // ОБРАБОТКА САБМИТА\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    if (!data.email || !data.password) {\n      return;\n    }\n    onRegister(data)\n      .then(() => history.push(\"/sign-in\"))\n      .catch((err) => setMessage(err.message || \"Что-то пошло не так\"));\n  }\n\n  return (\n    <div className=\"welcome welcome_register\">\n      <form\n        onSubmit={handleSubmit}\n        className=\"welcome__form\"\n        autoComplete=\"off\"\n        noValidate\n      >\n        <h3 className=\"welcome__title\">Регистрация</h3>\n        <p className=\"welcome__error\">{message}</p>\n        <input\n          id=\"register-email\"\n          name=\"email\"\n          type=\"email\"\n          className=\"welcome__input\"\n          placeholder=\"Email\"\n          value={data.email}\n          onChange={handleInputChange}\n          required\n        ></input>\n        <input\n          id=\"register-password\"\n          name=\"password\"\n          type=\"password\"\n          className=\"welcome__input \"\n          placeholder=\"Пароль\"\n          value={data.password}\n          onChange={handleInputChange}\n          required\n        ></input>\n        <button className=\"welcome__button\" type=\"submit\">\n          Зарегистрироваться\n        </button>\n      </form>\n      <div className=\"welcome__signin\">\n        <p>Уже зарегистрированы?</p>\n        <Link to=\"/sign-in\" className=\"welcome__login-link\">\n          Войти\n        </Link>\n      </div>\n    </div>\n  );\n}\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}