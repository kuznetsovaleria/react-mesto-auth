{"ast":null,"code":"import _classCallCheck from\"/Users/kuznetsovaleria/test/mesto-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kuznetsovaleria/test/mesto-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";export var Api=/*#__PURE__*/function(){function Api(_ref){var baseUrl=_ref.baseUrl,token=_ref.token;_classCallCheck(this,Api);this._baseUrl=baseUrl;this._token=token;}_createClass(Api,[{key:\"_handleOriginalResponse\",value:function _handleOriginalResponse(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \".concat(res.status));}},{key:\"getUserData\",value:function getUserData(){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{headers:{authorization:this._token}}).then(this._handleOriginalResponse);}},{key:\"getInitialCards\",value:function getInitialCards(){return fetch(\"\".concat(this._baseUrl,\"/cards\"),{headers:{authorization:this._token}}).then(this._handleOriginalResponse);}},{key:\"editUserInfo\",value:function editUserInfo(data){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:'PATCH',headers:{authorization:this._token,'Content-Type':'application/json'},body:JSON.stringify({name:data.name,about:data.about})}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \".concat(res.status));});}},{key:\"addNewCard\",value:function addNewCard(data){return fetch(\"\".concat(this._baseUrl,\"/cards\"),{method:'POST',headers:{authorization:this._token,'Content-Type':'application/json'},body:JSON.stringify({name:data.name,link:data.link})}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \".concat(res.status));});}},{key:\"putLike\",value:function putLike(_id){return fetch(\"\".concat(this._baseUrl,\"/cards/likes/\").concat(_id),{method:'PUT',headers:{authorization:this._token}}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \".concat(res.status));});}},{key:\"removeLike\",value:function removeLike(_id){return fetch(\"\".concat(this._baseUrl,\"/cards/likes/\").concat(_id),{method:'DELETE',headers:{authorization:this._token}}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \".concat(res.status));});}},{key:\"deleteCard\",value:function deleteCard(_id){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(_id),{method:'DELETE',headers:{authorization:this._token}}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \".concat(res.status));});}},{key:\"changeUserAvatar\",value:function changeUserAvatar(data){return fetch(\"\".concat(this._baseUrl,\"/users/me/avatar\"),{method:'PATCH',headers:{authorization:this._token,'Content-Type':'application/json'},body:JSON.stringify({avatar:data.link})}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \".concat(res.status));});}}]);return Api;}();;var api=new Api({baseUrl:'https://mesto.nomoreparties.co/v1/cohort-19',token:'05a9c3f8-8fc7-415a-8994-abcd561520ba'});export default api;","map":{"version":3,"sources":["/Users/kuznetsovaleria/test/mesto-react/src/api/api.js"],"names":["Api","baseUrl","token","_baseUrl","_token","res","ok","json","Promise","reject","status","fetch","headers","authorization","then","_handleOriginalResponse","data","method","body","JSON","stringify","name","about","link","_id","avatar","api"],"mappings":"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","sourcesContent":["export class Api {\n    constructor({baseUrl, token}) {\n        this._baseUrl = baseUrl;\n        this._token = token;\n}\n\n    _handleOriginalResponse(res) {\n            if(res.ok) {\n                return res.json();\n            }\n            return Promise.reject(`Ошибка ${res.status}`);\n}\n\n    getUserData() {\n        return fetch(`${this._baseUrl}/users/me`, {\n            headers: {\n                authorization: this._token\n            }\n        })\n        .then(this._handleOriginalResponse)\n}\n\n    getInitialCards() {\n        return fetch(`${this._baseUrl}/cards`, {\n            headers: {\n                authorization: this._token\n            }\n        })\n            .then(this._handleOriginalResponse)\n}\n\n\n    editUserInfo(data) {\n        return fetch(`${this._baseUrl}/users/me`, {\n            method: 'PATCH',\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                name: data.name,\n                about: data.about\n            })\n        })\n        .then(res => {\n            if(res.ok) {\n                return res.json();\n            }\n            return Promise.reject(`Ошибка ${res.status}`)\n        })\n}\n\n    addNewCard(data) {\n        return fetch(`${this._baseUrl}/cards`, {\n            method: 'POST',\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                name: data.name,\n                link: data.link\n            })\n        })\n        .then(res => {\n            if(res.ok) {\n                return res.json();\n            }\n            return Promise.reject(`Ошибка ${res.status}`)\n        })\n}\n\n    putLike(_id) {\n        return fetch(`${this._baseUrl}/cards/likes/${_id}`, {\n            method: 'PUT',\n            headers: {\n                authorization: this._token,\n            },\n        })\n        .then(res => {\n            if(res.ok) {\n                return res.json();\n            }\n            return Promise.reject(`Ошибка ${res.status}`)\n        })\n}\n\n    removeLike(_id) {\n        return fetch(`${this._baseUrl}/cards/likes/${_id}`, {\n            method: 'DELETE',\n            headers: {\n                authorization: this._token,\n            },\n        })\n        .then(res => {\n            if(res.ok) {\n                return res.json();\n            }\n            return Promise.reject(`Ошибка ${res.status}`)\n        })\n}\n\n    deleteCard(_id) {\n        return fetch(`${this._baseUrl}/cards/${_id}`, {\n            method: 'DELETE',\n            headers: {\n                authorization: this._token,\n            },\n        })\n        .then(res => {\n            if(res.ok) {\n                return res.json();\n            }\n            return Promise.reject(`Ошибка ${res.status}`)\n        })\n}\n\n    changeUserAvatar(data) {\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                avatar: data.link\n            })\n        })\n        .then(res => {\n            if(res.ok) {\n                return res.json();\n            }\n            return Promise.reject(`Ошибка ${res.status}`)\n        })\n    }\n};\n\n const api = new Api({\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-19',\n    token: '05a9c3f8-8fc7-415a-8994-abcd561520ba'\n});\n\nexport default api"]},"metadata":{},"sourceType":"module"}