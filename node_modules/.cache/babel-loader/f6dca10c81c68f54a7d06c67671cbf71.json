{"ast":null,"code":"import _classCallCheck from\"/Users/kuznetsovaleria/test/mesto-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kuznetsovaleria/test/mesto-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";export var Api=/*#__PURE__*/function(){function Api(_ref){var baseUrl=_ref.baseUrl,token=_ref.token;_classCallCheck(this,Api);this._baseUrl=baseUrl;this._token=token;}_createClass(Api,[{key:\"_handleOriginalResponse\",value:function _handleOriginalResponse(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \".concat(res.status));}},{key:\"getUserData\",value:function getUserData(){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{headers:{authorization:this._token}}).then(this._handleOriginalResponse);}},{key:\"getInitialCards\",value:function getInitialCards(){return fetch(\"\".concat(this._baseUrl,\"/cards\"),{headers:{authorization:this._token}}).then(this._handleOriginalResponse);}},{key:\"editUserInfo\",value:function editUserInfo(data){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:\"PATCH\",headers:{authorization:this._token,\"Content-Type\":\"application/json\"},body:JSON.stringify({name:data.name,about:data.about})}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \".concat(res.status));});}},{key:\"addNewCard\",value:function addNewCard(data){return fetch(\"\".concat(this._baseUrl,\"/cards\"),{method:\"POST\",headers:{authorization:this._token,\"Content-Type\":\"application/json\"},body:JSON.stringify({name:data.name,link:data.link})}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \".concat(res.status));});}},{key:\"putLike\",value:function putLike(_id){return fetch(\"\".concat(this._baseUrl,\"/cards/likes/\").concat(_id),{method:\"PUT\",headers:{authorization:this._token}}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \".concat(res.status));});}},{key:\"removeLike\",value:function removeLike(_id){return fetch(\"\".concat(this._baseUrl,\"/cards/likes/\").concat(_id),{method:\"DELETE\",headers:{authorization:this._token}}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \".concat(res.status));});}},{key:\"deleteCard\",value:function deleteCard(_id){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(_id),{method:\"DELETE\",headers:{authorization:this._token}}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \".concat(res.status));});}},{key:\"changeUserAvatar\",value:function changeUserAvatar(data){return fetch(\"\".concat(this._baseUrl,\"/users/me/avatar\"),{method:\"PATCH\",headers:{authorization:this._token,\"Content-Type\":\"application/json\"},body:JSON.stringify({avatar:data.link})}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \".concat(res.status));});}}]);return Api;}();var api=new Api({baseUrl:\"https://mesto.nomoreparties.co/v1/cohort-19\",token:\"05a9c3f8-8fc7-415a-8994-abcd561520ba\"});export default api;","map":{"version":3,"sources":["/Users/kuznetsovaleria/test/mesto-react/src/api/api.js"],"names":["Api","baseUrl","token","_baseUrl","_token","res","ok","json","Promise","reject","status","fetch","headers","authorization","then","_handleOriginalResponse","data","method","body","JSON","stringify","name","about","link","_id","avatar","api"],"mappings":"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","sourcesContent":["export class Api {\n  constructor({ baseUrl, token }) {\n    this._baseUrl = baseUrl;\n    this._token = token;\n  }\n\n  _handleOriginalResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка ${res.status}`);\n  }\n\n  getUserData() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: {\n        authorization: this._token,\n      },\n    }).then(this._handleOriginalResponse);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: {\n        authorization: this._token,\n      },\n    }).then(this._handleOriginalResponse);\n  }\n\n  editUserInfo(data) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about,\n      }),\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка ${res.status}`);\n    });\n  }\n\n  addNewCard(data) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link,\n      }),\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка ${res.status}`);\n    });\n  }\n\n  putLike(_id) {\n    return fetch(`${this._baseUrl}/cards/likes/${_id}`, {\n      method: \"PUT\",\n      headers: {\n        authorization: this._token,\n      },\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка ${res.status}`);\n    });\n  }\n\n  removeLike(_id) {\n    return fetch(`${this._baseUrl}/cards/likes/${_id}`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: this._token,\n      },\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка ${res.status}`);\n    });\n  }\n\n  deleteCard(_id) {\n    return fetch(`${this._baseUrl}/cards/${_id}`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: this._token,\n      },\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка ${res.status}`);\n    });\n  }\n\n  changeUserAvatar(data) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        avatar: data.link,\n      }),\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка ${res.status}`);\n    });\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-19\",\n  token: \"05a9c3f8-8fc7-415a-8994-abcd561520ba\",\n});\n\nexport default api;\n"]},"metadata":{},"sourceType":"module"}